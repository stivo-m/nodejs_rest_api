(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21aab9"],{bd01:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",{staticClass:"hold-transition login-page"},[s("div",{staticClass:"login-box"},[t._m(0),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body login-card-body"},["/customer"===t.route?s("p",{staticClass:"login-box-msg"},[t._v(" Please Login Below to Proceed ")]):t._e(),"/admin"===t.route?s("p",{staticClass:"login-box-msg"},[t._v("Admin Login")]):t._e(),t._l(t.getErrors,(function(e){return s("div",{key:e,staticClass:"alert alert-danger alert-dismissible"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-hidden":"true"}},[t._v(" Ã— ")]),t._v(" "+t._s(e)+" ")])})),s("form",{on:{submit:t.onSubmit}},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._m(1)]),s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(2)]),s("div",{staticClass:"row"},[t._m(3),s("div",{staticClass:"col-4"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.getAuthState,type:"submit"}},[t.getAuthState?t._e():s("span",[t._v("Sign In")]),t.getAuthState?s("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])])]),"/customer"===t.route?s("div",{staticClass:"c-only"},[t._m(4),s("p",{staticClass:"mb-0"},[s("router-link",{staticClass:"text-center",attrs:{to:"customer/register"}},[t._v("I am New, Create an account")])],1)]):t._e()],2)])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register-logo"},[s("a",{attrs:{href:""}},[s("b",[t._v("Curtsy")]),t._v(" Writing")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-append"},[s("div",{staticClass:"input-group-text"},[s("span",{staticClass:"fas fa-envelope"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-append"},[s("div",{staticClass:"input-group-text"},[s("span",{staticClass:"fas fa-lock"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8"},[s("div",{staticClass:"icheck-primary"},[s("input",{attrs:{type:"checkbox",id:"remember"}}),s("span",{staticClass:"spacer"}),s("label",{attrs:{for:"remember"}},[t._v("Remember Me")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"mb-1"},[s("a",{attrs:{href:"forgot-password.html"}},[t._v("I forgot my password")])])}],i=(s("ac1f"),s("1276"),s("96cf"),s("1da1")),o=s("5530"),n=s("2f62"),l={name:"LoginView",data:function(){return{email:"",password:"",user:this.getUser,errors:[this.getErrors],route:null}},methods:Object(o["a"])(Object(o["a"])({},Object(n["b"])(["login","getUserDetails","setError"])),{},{onSubmit:function(t){var e=this;if(t.preventDefault(),this.email)if(this.password)if(this.password.length<6)this.setError("Password must be more than 6 characters");else{var s=this.route.split("/")[1],a={email:this.email,password:this.password,role:s};this.login(a).then((function(t){t?"customer"===t.role?e.$router.push("/customer/dashboard"):e.$router.push("/admin/dashboard"):console.log("User is Null")})).catch((function(t){return console.log(t)}))}else this.setError("Password field is required");else this.setError("Email field is required")}}),computed:Object(o["a"])({},Object(n["c"])(["getUser","getErrors","getAuthState"])),created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUserDetails();case 2:t.user=e.sent,t.route=t.$router.currentRoute.fullPath;case 4:case"end":return e.stop()}}),e)})))()},watch:{$route:function(){this.route=this.$router.currentRoute.fullPath}}},c=l,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21aab9.48444d1e.js.map